!function(y,H){"use strict";var C="imagesCompare",b={initVisibleRatio:.5,interactionMode:"drag",animationDuration:400,animationEasing:"swing",addSeparator:!0,addDragHandle:!0,precision:4};function t(s,d){var e;s=y(s),(d=y.extend({},b,d)).roundFactor=parseInt("1"+(e="0",a=d.precision,String.prototype.repeat?e.repeat(a):(a=a||1,new Array(a+1).join(e)))),this._name=C;var c,n,u,m,a,t,i,p=1,g={width:0,height:0,maxWidth:0,maxHeight:0},h={initialised:"imagesCompare:initialised",changed:"imagesCompare:changed",resized:"imagesCompare:resized"};function r(){if(t<=i){switch(s.addClass("images-compare-container"),s.css("display","inline-block"),c=s.find("> *:nth-child(1)"),n=s.find("> *:nth-child(2)"),c.addClass("images-compare-before"),c.css("display","block"),n.addClass("images-compare-after"),n.css("display","block"),d.addDragHandle&&(s.prepend("<div class='images-compare-handle'></div>"),(m=s.find(".images-compare-handle")).append("<span class='images-compare-left-arrow'></span>"),m.append("<span class='images-compare-right-arrow'></span>")),d.addSeparator&&(s.prepend("<div class='images-compare-separator'></div>"),u=s.find(".images-compare-separator")),f(),d.interactionMode=d.interactionMode.toLowerCase(),"drag"!=d.interactionMode&&"mousemove"!=d.interactionMode&&"click"!=d.interactionMode&&console.warn('No valid interactionMode found, valid values are "drag", "mousemove", "click"'),d.interactionMode){case"drag":l();break;case"mousemove":(function(){var t=0;s.on("mousemove",function(e){e.preventDefault();var a=Date.now();t+1<a&&(t=a,x(v(e.pageX)))}),s.on("mouseout",function(e){x(v(e.pageX))})})(),o();break;case"click":s.on("click",function(e){x(v(e.pageX))}),o();break;default:l()}y(c).attr("ratio",d.initVisibleRatio),x(d.initVisibleRatio),s.trigger({type:h.initialised})}}function o(){y(H).on("resize",function(e){c.css("clip",""),f(),x(p),s.trigger({type:h.resized,originalEvent:e})})}function l(){var e;"undefined"==typeof Hammer&&console.error("Please include the hammerjs library for drag support"),(e=new Hammer(s[0])).get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),e.on("pan",function(e){x(v(e.srcEvent.pageX))}),o()}function f(){var e=n.find("img").first(),a=e.width(),t=e.height(),i=e.naturalWidth(),e=e.naturalHeight();void 0!==a&&(g.width=a);void 0!==t&&(a=t,g.height=a);void 0!==i&&(t=i,g.maxWidth=t);void 0!==e&&(a=e,g.maxHeight=a);s.css("max-width",g.maxWidth+"px"),s.css("max-height",g.maxHeight+"px"),c.width(g.width),c.height(g.height)}function v(e){e=(e-s.offset().left)/c.width();return e=(e=1<(e=Math.round(e*d.roundFactor)/d.roundFactor)?1:e)<0?0:e}function w(e){return e=Math.round(e*d.roundFactor)/d.roundFactor,Math.round(c.width()*e)}function x(e,a,t,i){void 0===a&&(a=!1);var n,r,o=w(e);a?(t=t||d.animationDuration,i=i||d.animationEasing,n=p,r=e,t=t,i=i,y(c).attr("ratio",n).animate({ratio:n},{duration:0}),y(c).stop().attr("ratio",n).animate({ratio:r},{duration:t,easing:i,step:function(e){var a=w(e);p=e,c.attr("ratio",e).css("clip","rect(0, "+a+"px, "+g.height+"px, 0)"),d.addSeparator&&u.css("left",a+"px"),d.addDragHandle&&m.css("left",a+"px")},done:function(e,a){var t=y(c).attr("ratio");s.trigger({type:h.changed,ratio:t,value:w(t),animate:!0,animation:e,jumpedToEnd:a})}}),p!=e&&s.trigger({type:h.changed,ratio:p,value:o,animate:a})):(c.stop().css("clip","rect(0, "+o+"px, "+g.height+"px, 0)"),d.addSeparator&&y(u).stop().css("left",o+"px"),d.addDragHandle&&m.css("left",o+"px"),p!=e&&s.trigger({type:h.changed,ratio:e,value:o,animate:a}),p=e)}return a=s.find("img"),t=a.length,i=0,a.each(function(){y(this)[0].complete?(t--,r()):(y(this).on("load",function(){i++,r()}),y(this).on("error",function(){i++,r()}))}),{setValue:function(e,a,t,i){return x(e,a,t,i),s},getValue:function(){return p},on:function(e,a){return s.on(e,a),s},off:function(e,a){return s.off(e,a),s},events:function(){return h}}}y.fn.imagesCompare=function(e){var a=y.extend(b,e);return this.each(function(){y.data(this,C)||y.data(this,C,new t(this,a))})}}(jQuery,window,document),function(a){for(var e,t=["Width","Height"],i=t.length,n=0;n<i;n++)!function(e,i){a.fn[e]=e in document.createElement("img")?function(){return this[0][e]}:function(){var e,a=this[0],t=0;return"img"===a.tagName.toLowerCase()&&((e=document.createElement("img")).src=a.src,t=e[i]),t}}("natural"+(e=t[n]),e.toLowerCase())}(jQuery);